<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8">
    <title>taps2beats</title>
    <link rel="icon"       href="images/favicon.png">
    <link rel="stylesheet" href="css/taps2beats.css" type="text/css">
  </head>

  <body> 
    <div id="content">

      <!-- HEADER -->
      <header>
        <img id="logo" src="images/logo.png"  />
        <div id="banner" />
      </header>

      <!-- NAV -->

      <nav>
      </nav>

      <!-- MAIN -->
      <main>
        <div>
          
          <div id="container">
            <div class="url">
              <input id="url"  type="text"   value="CKI7MnfBYJA" />
              <input id="load" type="button" value="Load" onclick="load(event)" />
            </div>

            <div id="player" class="player"></div>
          </div>

          <!-- https://w3c.github.io/aria-practices/examples/slider/multithumb-slider.html -->
          <div class="aria-widget-slider">
            <div class="rail" style="width: 638px;">
              <img  id="start"
                    src="images/min-arrow.png"
                    role="slider"
                    tabindex="0"
                    class="min thumb"
                    aria-valuemin="0"
                    aria-valuenow="100"
                    aria-valuetext="$100"
                    aria-valuemax="400"
                    aria-label="start">
              <img id="end"
                    src="images/max-arrow.png"
                    role="slider"
                    tabindex="0"
                    class="max thumb"
                    aria-valuemin="0"
                    aria-valuenow="250"
                    aria-valuetext="$250"
                    aria-valuemax="400"
                    aria-label="end">
            </div>
          </div>

          <div style="clear: both; margin-top:12px">
            <div class="rail-label min">0</div>
            <div class="rail-label max">0</div>
            <div style="clear: both;">
              Start
              <input type="text">
            </div>
            <div>
              End
              <input type="text">
            </div>
            <div>
              Loop
              <input type="checkbox">
            </div>
          </div>

        </div>
      </main>

      <!-- FOOTER -->
      <footer>
      </footer>
    </div>
  </body>

  <!-- SCRIPTS -->
 
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="javascript/taps2beats.js"></script>
  <script type="text/javascript">
    var player

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        playerVars: {
          fs: 0,
          controls: 1,
          autoplay: 0,
          loop: 0,
          modestbranding: 1,
          iv_load_policy: 3,
          enablejsapi: 1
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      })
    }

    function load(event) {
      const url = document.getElementById("url")    
      const vid = { videoId: url.value,
                    startSeconds: 10,
                    endSeconds: 15
                  }

      player.cueVideoById(vid)
    }

    function onPlayerReady(event) {
      console.log('onPlayerReady', event)
    }

    function onPlayerStateChange(event) {
      console.log('onPlayerReady', event)
    }

    function stopVideo() {
        player.stopVideo();
    }
  </script>

</html>
